1:"$Sreact.fragment"
2:I[5379,["177","static/chunks/app/layout-0ef7083110d65cf4.js"],"ThemeProvider"]
3:I[9766,[],""]
4:I[8924,[],""]
5:I[746,["475","static/chunks/475-3744bb4aeea5fc33.js","880","static/chunks/app/posts/%5Bid%5D/page-70176adfe5f4df1f.js"],"default"]
6:I[1356,["475","static/chunks/475-3744bb4aeea5fc33.js","345","static/chunks/app/not-found-8419458ee3046c79.js"],"Image"]
7:I[2619,["475","static/chunks/475-3744bb4aeea5fc33.js","880","static/chunks/app/posts/%5Bid%5D/page-70176adfe5f4df1f.js"],""]
9:I[4431,[],"OutletBoundary"]
b:I[5278,[],"AsyncMetadataOutlet"]
d:I[4431,[],"ViewportBoundary"]
f:I[4431,[],"MetadataBoundary"]
10:"$Sreact.suspense"
12:I[7150,[],""]
:HL["/_next/static/css/945d80a68a4b54e2.css","style"]
:HL["/_next/static/css/cf90ed5b6ea85f87.css","style"]
:HL["/_next/static/css/ad997785a9510f80.css","style"]
0:{"P":null,"b":"EW1uoUQqPzj8GTqp1D8U5","p":"","c":["","posts","unifi-dns-sync-for-site-to-site-vpns"],"i":false,"f":[[["",{"children":["posts",{"children":[["id","unifi-dns-sync-for-site-to-site-vpns","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/945d80a68a4b54e2.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"suppressHydrationWarning":true,"children":["$","$L2",null,{"attribute":"data-theme","defaultTheme":"system","enableSystem":true,"disableTransitionOnChange":true,"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","$L5",null,{"children":["$","main",null,{"children":["$","section",null,{"className":"not-found_notFound__1gjkC","children":[["$","$L6",null,{"priority":true,"src":"/404.png","height":225,"width":400,"alt":"404 fingerspelled in American Sign Language","className":"not-found_image__1cFp1"}],["$","h1",null,{"children":"Page Not Found"}],["$","$L7",null,{"href":"/","children":"Go Home"}]]}]}]}],[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/ad997785a9510f80.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]}]]}],{"children":["posts",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["id","unifi-dns-sync-for-site-to-site-vpns","d"],["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L8",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/cf90ed5b6ea85f87.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/ad997785a9510f80.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L9",null,{"children":["$La",["$","$Lb",null,{"promise":"$@c"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,[["$","$Ld",null,{"children":"$Le"}],null],["$","$Lf",null,{"children":["$","div",null,{"hidden":true,"children":["$","$10",null,{"fallback":null,"children":"$L11"}]}]}]]}],false]],"m":"$undefined","G":["$12",[]],"s":false,"S":true}
13:T879,<p>UniFi has <a href="https://help.ui.com/hc/en-us/articles/16750417515159-UniFi-Gateway-Setting-Up-SD-WAN-with-UniFi-Site-Magic">Site Magic</a>, but it's not so magic sometimes - because DNS A records aren't synchronized across sites.</p>
<p>To solve this, I wrote the core code for a small Python tool and used AI to help refine the structure and packaging. The result is <a href="https://pypi.org/project/unifi-dns-sync/">unifi-dns-sync</a>, a simple CLI utility for keeping DNS A records in sync across UniFi controllers.</p>
<p>You can install it directly from PyPI with:</p>
<pre><code class="language-python">pip install unifi-dns-sync
</code></pre>
<p>Source code is available on <a href="https://github.com/cswitenky/unifi-dns-sync">GitHub</a>.</p>
<h2>Usage</h2>
<p>First, create a <code>dns-records.json</code> file with the DNS A records you want managed by your UniFi controller:</p>
<pre><code class="language-json">[
  { "duck.switenky.com": "10.0.10.11" },
  "horse.switenky.com",
  { "cat.switenky.com": "10.0.30.14" },
  { "dog.switenky.com": "10.0.40.15" }
]
</code></pre>
<p>Then run:</p>
<pre><code>python -m unifi_dns_sync dns-records.json \
  --controller https://10.0.0.1 \
  --username admin \
  --password your-password \
  --target-ip 10.0.0.123
</code></pre>
<p><strong>Note:</strong> any hostname without an explicit IP (like <code>horse.switenky.com</code>) will use the fallback specified by <code>--target-ip</code>.</p>
<p>Here‚Äôs what that looks like when you run it:</p>
<p><img src="/images/demo.png" alt="Command line interface demo of unifi-dns-sync syncing DNS records and displaying diff-style output"></p>
<h2>Conclusion</h2>
<p>It‚Äôs lightweight and flexible enough to integrate into a cron job, Ansible playbook, CI/CD pipeline, or even a Kubernetes job.</p>
<p>It solved a real headache in my homelab and multi-site UniFi setup -- and hopefully it helps you too.</p>
<h2>‚ú® Features</h2>
<ul>
<li>Takes in a list of records</li>
<li>Adds new records and removes unused</li>
<li>Provides diff-style output and supports dry-run mode via CLI arguments.</li>
<li>Easy to automate (Kubernetes, Ansible, CI/CD, etc.)</li>
</ul>
8:["$","$L5",null,{"children":[["$","article",null,{"children":[["$","h1",null,{"className":"page_headingXl__Zf6mV","children":"üì° UniFi DNS Sync for Site-to-Site VPNs"}],["$","div",null,{"className":"page_lightText__9Tsca","children":["$","time",null,{"dateTime":"2025-09-14","children":"2025 Sep 14"}]}],["$","div",null,{"dangerouslySetInnerHTML":{"__html":"$13"}}]]}],["$","table",null,{"className":"page_postNavigation__aBHrL","aria-label":"Post navigation","children":["$","tbody",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":["$","$L7",null,{"href":"/posts/raspberry-pi-5-build-poe-powered-with-nvme-ssd","aria-label":"Previous post: ‚ö°Raspberry Pi 5 Build: PoE-Powered with NVMe SSD","children":["‚Üê Previous",["$","br",null,{}],["$","span",null,{"aria-hidden":"true","children":"‚ö°Raspberry Pi 5 Build: PoE-Powered with NVMe SSD"}]]}]}],["$","th",null,{"children":["$","$L7",null,{"href":"/posts","aria-label":"Go to all posts","children":"üì´ All Posts"}]}],["$","th",null,{"children":null}]]}]}]}]]}]
e:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
a:null
14:I[622,[],"IconMark"]
c:{"metadata":[["$","title","0",{"children":"üì° UniFi DNS Sync for Site-to-Site VPNs ‚Äî Connor Switenky"}],["$","meta","1",{"name":"description","content":"Connor Switenky's personal website."}],["$","meta","2",{"property":"og:title","content":"Connor Switenky"}],["$","meta","3",{"property":"og:description","content":"Connor Switenky's personal website."}],["$","meta","4",{"name":"twitter:card","content":"summary"}],["$","meta","5",{"name":"twitter:title","content":"Connor Switenky"}],["$","meta","6",{"name":"twitter:description","content":"Connor Switenky's personal website."}],["$","link","7",{"rel":"icon","href":"/favicon.ico"}],["$","$L14","8",{}]],"error":null,"digest":"$undefined"}
11:"$c:metadata"
